<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TMS320F28335 Library: SCI</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../customize.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../th-koeln-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TMS320F28335 Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d1/d15/sci.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SCI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Serial Communications Interface (SCI), also known as Universal Asynchronous Receiver Transmitter (UART) can be used for serial communication. Messages of 8 Bit can be transferred via up to three SCI-Modules: SCI_A, SCI_B, SCI_C. Each module can only be used once.</p>
<p>For the configuration of one of the SCI-modules, user needs to create an instance of SCIInterface and assign the GPIOs of desired SCI-Module to it (see table below). <br  />
</p>
<p>With Tx and Rx Pin, the SCI-Module can use full-duplex communication with specific baud rate, that also needs to be assigned to SCIInterface instance. Standard baud rates for SCI are 110, 300, 600, 1200, 2400, 4800, 9600, 14400, 19200, 38400, 57600, 115200, 128000 and 256000 bits per second.</p>
<hr  />
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone">Rx  </th><th class="markdownTableHeadNone">Tx   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SCI_A</b>  </td><td class="markdownTableBodyNone">GPIO28  </td><td class="markdownTableBodyNone">GPIO29   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>SCI_B</b>  </td><td class="markdownTableBodyNone">GPIO11 / GPIO 15 / GPIO19 / GPIO23  </td><td class="markdownTableBodyNone">GPIO9 / GPIO14 / GPIO18 / GPIO22   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SCI_C</b>  </td><td class="markdownTableBodyNone">GPIO62  </td><td class="markdownTableBodyNone">GPIO63   </td></tr>
</table>
<hr  />
<h3><a class="anchor" id="autotoc_md85"></a>
Code example</h3>
<p>Use SCI-module without interrupts</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d4/d69/global__defines_8h.html">global_defines.h</a>&quot;</span>                     <span class="comment">//Include global_defines.h</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d2/d5f/system__controls_8h.html">system_controls/system_controls.h</a>&quot;</span>    <span class="comment">//Include module of system controls</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../da/de4/sci_8h.html">sci/sci.h</a>&quot;</span>                            <span class="comment">//Include module of SCI</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="../../d2/d84/struct___s_c_i_interface.html">SCIInterface</a> SCI_B = {GPIO11, GPIO9, 115200};   <span class="comment">//Instantiate SCIInterface and assign GPIO11 (scirx) and GPIO9 (scitx) to SCI_B with baudrate 115200</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>){</div>
<div class="line">    <span class="keywordtype">char</span> sci_sdata = 0x66;</div>
<div class="line">    <span class="keywordtype">char</span> sci_rdata = 0;</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;                             <span class="comment">//Optional: can be used to check return values of functions</span></div>
<div class="line">    <a class="code" href="../../d6/dd6/system__controls_8c.html#af00c2329b3f7c533409b5d9983b5103c">setSystemControls</a>();                        <span class="comment">//Call setSystemControls() function</span></div>
<div class="line">    result = <a class="code" href="../../d3/da2/sci_8c.html#ac22046a0c629dfa01f4bdf58a1600ff9">init_SCI</a>(SCI_B);                   <span class="comment">//Configures SCI_B. Returns result of operation </span></div>
<div class="line">    <span class="keywordflow">while</span>(1){                                   <span class="comment">//Endless Loop</span></div>
<div class="line">        result = <a class="code" href="../../d3/da2/sci_8c.html#aefb450aab72a64d0b269316c060f1517">SCI_send</a>(SCI_B, sci_sdata);    <span class="comment">//Sends 8 Bit via SCI_B Interface on tx pin. Returns result of operation </span></div>
<div class="line">        result = <a class="code" href="../../d3/da2/sci_8c.html#a82b61f41f5a4216fafecaa66cb7d5c48">SCI_read</a>(SCI_B, &amp;sci_rdata);   <span class="comment">//Reads 8-Bit-Data via SCI_B Interface on rx pin. Returns result of operation </span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Use SCI-module with interrupts</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d4/d69/global__defines_8h.html">global_defines.h</a>&quot;</span>                             <span class="comment">//Include global_defines.h</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d2/d5f/system__controls_8h.html">system_controls/system_controls.h</a>&quot;</span>            <span class="comment">//Include module of system controls</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../da/de4/sci_8h.html">sci/sci.h</a>&quot;</span>                                    <span class="comment">//Include module of SCI</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="../../d2/d84/struct___s_c_i_interface.html">SCIInterface</a> SCI_B = {GPIO11, GPIO9, 115200};           <span class="comment">//Instantiate SCIInterface and assign GPIO11 (scirx) and GPIO9 (scitx) to SCI_B with baudrate 115200</span></div>
<div class="line"> </div>
<div class="line">__interrupt <span class="keywordtype">void</span> sciTxFIFOISR(<span class="keywordtype">void</span>);                    <span class="comment">//Declare Tx Interrupt function</span></div>
<div class="line">__interrupt <span class="keywordtype">void</span> sciRxFIFOISR(<span class="keywordtype">void</span>);                    <span class="comment">//Declare Rx Interrupt function</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> sci_sdata;</div>
<div class="line"><span class="keywordtype">char</span> sci_rdata;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>){</div>
<div class="line">    sci_rdata = 0;</div>
<div class="line">    sci_sdata = 0x66;</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;                                     <span class="comment">//Optional: can be used to check return values of functions</span></div>
<div class="line">    <a class="code" href="../../d6/dd6/system__controls_8c.html#af00c2329b3f7c533409b5d9983b5103c">setSystemControls</a>();                                <span class="comment">//Call setSystemControls() function</span></div>
<div class="line">    result = <a class="code" href="../../d3/da2/sci_8c.html#ac22046a0c629dfa01f4bdf58a1600ff9">init_SCI</a>(SCI_B);                           <span class="comment">//Configures SCI_B. Returns result of operation </span></div>
<div class="line">    result = <a class="code" href="../../d3/da2/sci_8c.html#a56c4c063a7dbee2572d237c4e175f591">SCI_setInterruptRx</a>(SCI_B, &amp;sciRxFIFOISR);  <span class="comment">//Assign Rx-ISR to SCI-module B. Rx-ISR will be called when there is one or more byte in Rx-FIFO. Returns result of operation</span></div>
<div class="line">    result = <a class="code" href="../../d3/da2/sci_8c.html#aa8471a92641d13f33d5fc8f3815a9824">SCI_setInterruptTx</a>(SCI_B, &amp;sciTxFIFOISR);  <span class="comment">//Assign Tx-ISR to SCI-module B. Tx-ISR will be called when Tx-FIFO is empty. Returns result of operation</span></div>
<div class="line">    <span class="keywordflow">while</span>(1){</div>
<div class="line">                                                        <span class="comment">//Endless loop</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">__interrupt <span class="keywordtype">void</span> sciTxFIFOISR(<span class="keywordtype">void</span>){</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    result = <a class="code" href="../../d3/da2/sci_8c.html#aefb450aab72a64d0b269316c060f1517">SCI_send</a>(SCI_B, sci_sdata);                <span class="comment">//Send data</span></div>
<div class="line">    result = <a class="code" href="../../d3/da2/sci_8c.html#aa1a4dd2b303a79d1531656b1a4cf9721">SCI_clearTxInterruptFlag</a>(SCI_B);           <span class="comment">//Clear Interrupt Flag</span></div>
<div class="line">    <a class="code" href="../../d3/da2/sci_8c.html#ae61196d024b8d20aa542dad13f79e1ed">SCI_interruptAck</a>();                                 <span class="comment">//Acknowledgement for future interrupts</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">__interrupt <span class="keywordtype">void</span> sciRxFIFOISR(<span class="keywordtype">void</span>){</div>
<div class="line">    <span class="keywordtype">int</span> result = 0;</div>
<div class="line">    result = <a class="code" href="../../d3/da2/sci_8c.html#a82b61f41f5a4216fafecaa66cb7d5c48">SCI_read</a>(SCI_B, &amp;sci_rdata);               <span class="comment">//Receive data</span></div>
<div class="line">    <a class="code" href="../../d3/da2/sci_8c.html#a123ab8648beaced46742b11ad28e4f28">SCI_clearRxInterruptFlag</a>(SCI_B);                    <span class="comment">//Clear Interrupt Flag</span></div>
<div class="line">    <a class="code" href="../../d3/da2/sci_8c.html#ae61196d024b8d20aa542dad13f79e1ed">SCI_interruptAck</a>();                                 <span class="comment">//Acknowledgement for future interrupts</span></div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h3><a class="anchor" id="autotoc_md87"></a>
Documented C-Code of module:</h3>
<p><a href="../../dir_abd9d75bd53711dcc65e38733baa2f85.html">SCI</a></p>
<hr  />
<h3><a class="anchor" id="autotoc_md89"></a>
Detailed description in Technical Reference Manual:</h3>
<p><a href="../../../doc_documents/Technical_Reference_Manual.pdf#page=581" target="_blank">Technical_Reference_Manual</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="astruct___s_c_i_interface_html"><div class="ttname"><a href="../../d2/d84/struct___s_c_i_interface.html">_SCIInterface</a></div><div class="ttdoc">SCI Interface: Assign GPIOs and baudrate to SCI_A / SCI_B / SCI_C.</div><div class="ttdef"><b>Definition:</b> <a href="../../da/de4/sci_8h_source.html#l00009">sci.h:9</a></div></div>
<div class="ttc" id="asci_8h_html"><div class="ttname"><a href="../../da/de4/sci_8h.html">sci.h</a></div><div class="ttdoc">Header file for SCI module.</div></div>
<div class="ttc" id="asci_8c_html_aefb450aab72a64d0b269316c060f1517"><div class="ttname"><a href="../../d3/da2/sci_8c.html#aefb450aab72a64d0b269316c060f1517">SCI_send</a></div><div class="ttdeci">int16 SCI_send(SCIInterface SCI_Int, Uint8 data)</div><div class="ttdoc">SCI Interface Send data to Tx FIFO.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da2/sci_8c_source.html#l00305">sci.c:305</a></div></div>
<div class="ttc" id="asci_8c_html_a82b61f41f5a4216fafecaa66cb7d5c48"><div class="ttname"><a href="../../d3/da2/sci_8c.html#a82b61f41f5a4216fafecaa66cb7d5c48">SCI_read</a></div><div class="ttdeci">int16 SCI_read(SCIInterface SCI_Int, Uint8 *data)</div><div class="ttdoc">SCI Interface Read data from Rx FIFO.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da2/sci_8c_source.html#l00334">sci.c:334</a></div></div>
<div class="ttc" id="aglobal__defines_8h_html"><div class="ttname"><a href="../../d4/d69/global__defines_8h.html">global_defines.h</a></div><div class="ttdoc">Header file for global defines.</div></div>
<div class="ttc" id="asystem__controls_8c_html_af00c2329b3f7c533409b5d9983b5103c"><div class="ttname"><a href="../../d6/dd6/system__controls_8c.html#af00c2329b3f7c533409b5d9983b5103c">setSystemControls</a></div><div class="ttdeci">void setSystemControls(void)</div><div class="ttdoc">Configuration of system control register.</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dd6/system__controls_8c_source.html#l00013">system_controls.c:13</a></div></div>
<div class="ttc" id="asci_8c_html_a123ab8648beaced46742b11ad28e4f28"><div class="ttname"><a href="../../d3/da2/sci_8c.html#a123ab8648beaced46742b11ad28e4f28">SCI_clearRxInterruptFlag</a></div><div class="ttdeci">void SCI_clearRxInterruptFlag(SCIInterface SCI_Int)</div><div class="ttdoc">SCI Interface clear Rx Interrupt flag.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da2/sci_8c_source.html#l00363">sci.c:363</a></div></div>
<div class="ttc" id="asci_8c_html_aa8471a92641d13f33d5fc8f3815a9824"><div class="ttname"><a href="../../d3/da2/sci_8c.html#aa8471a92641d13f33d5fc8f3815a9824">SCI_setInterruptTx</a></div><div class="ttdeci">int16 SCI_setInterruptTx(SCIInterface SCI_Int, void *spiTxFIFOISR)</div><div class="ttdoc">Configure Tx Interrupt of SCI Interface.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da2/sci_8c_source.html#l00213">sci.c:213</a></div></div>
<div class="ttc" id="asci_8c_html_ac22046a0c629dfa01f4bdf58a1600ff9"><div class="ttname"><a href="../../d3/da2/sci_8c.html#ac22046a0c629dfa01f4bdf58a1600ff9">init_SCI</a></div><div class="ttdeci">int16 init_SCI(SCIInterface SCI_Int)</div><div class="ttdoc">Initialization of SCI Interface.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da2/sci_8c_source.html#l00021">sci.c:21</a></div></div>
<div class="ttc" id="asci_8c_html_aa1a4dd2b303a79d1531656b1a4cf9721"><div class="ttname"><a href="../../d3/da2/sci_8c.html#aa1a4dd2b303a79d1531656b1a4cf9721">SCI_clearTxInterruptFlag</a></div><div class="ttdeci">void SCI_clearTxInterruptFlag(SCIInterface SCI_Int)</div><div class="ttdoc">SCI Interface clear Tx Interrupt flag.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da2/sci_8c_source.html#l00388">sci.c:388</a></div></div>
<div class="ttc" id="asci_8c_html_a56c4c063a7dbee2572d237c4e175f591"><div class="ttname"><a href="../../d3/da2/sci_8c.html#a56c4c063a7dbee2572d237c4e175f591">SCI_setInterruptRx</a></div><div class="ttdeci">int16 SCI_setInterruptRx(SCIInterface SCI_Int, void *spiRxFIFOISR)</div><div class="ttdoc">Configure Rx Interrupt of SCI Interface.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da2/sci_8c_source.html#l00259">sci.c:259</a></div></div>
<div class="ttc" id="asystem__controls_8h_html"><div class="ttname"><a href="../../d2/d5f/system__controls_8h.html">system_controls.h</a></div><div class="ttdoc">Header file for System Controls module.</div></div>
<div class="ttc" id="asci_8c_html_ae61196d024b8d20aa542dad13f79e1ed"><div class="ttname"><a href="../../d3/da2/sci_8c.html#ae61196d024b8d20aa542dad13f79e1ed">SCI_interruptAck</a></div><div class="ttdeci">void SCI_interruptAck()</div><div class="ttdoc">Giving interrupts acknowledge to interrupt again.</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/da2/sci_8c_source.html#l00413">sci.c:413</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
